<div class="booking-container" style="max-width: 800px; margin: 30px auto; padding: 20px; display: flex; gap: 30px;">
  
  <div style="flex: 1; border: 1px solid #ddd; padding: 20px; border-radius: 8px;">
    @if (room) {
      <h2>R√©capitulatif</h2>
      <h3>{{ room.type_chambre }}</h3>

        <img 
            [src]="room.image_room" 
            [alt]="room.type_chambre" 
            style="width: 380px; height: 220px; object-fit: cover; border-radius: 4px;"
        >

      <p>{{ room.description_chambre }}</p>
      <p>Capacit√© : {{ room.capacite_max }} pers.</p>
      <hr>
      <p>Prix par nuit : <strong>{{ room.prix_base }} ‚Ç¨</strong></p>
    } @else {
      <p>Chargement de la chambre...</p>
    }
  </div>

  <div style="flex: 1;">
    <h2>Vos Dates</h2>
    <form [formGroup]="bookingForm" (ngSubmit)="onBook()">
      
      <div style="margin-bottom: 15px;">
        <label>Date d'arriv√©e</label>
        <input type="date" formControlName="dateDebut" style="width: 100%; padding: 8px;">
      </div>

      <div style="margin-bottom: 15px;">
        <label>Date de d√©part</label>
        <input type="date" formControlName="dateFin" style="width: 100%; padding: 8px;">
      </div>

      <div style="display: flex; gap: 10px; margin-bottom: 20px;">
  
        <div style="flex: 1;">
          <label>Adultes</label>
          <input type="number" formControlName="adults" min="1" style="width: 100%; padding: 8px;">
        </div>

        <div style="flex: 1;">
          <label>Enfants</label>
          <input type="number" formControlName="children" min="0" style="width: 100%; padding: 8px;">
        </div>

      </div>

      @if (isCapacityExceeded && room) {
        <div style="background-color: #ffebee; color: #c62828; padding: 10px; border-radius: 4px; margin-bottom: 15px; border: 1px solid #ef9a9a;">
          üö® <strong>Attention :</strong> Cette chambre ne peut accueillir que {{ room.capacite_max }} personnes maximum.
          <br>Veuillez r√©duire le nombre de voyageurs ou choisir une autre chambre.
        </div>
      }

      @if (numberOfNights > 0 && !isCapacityExceeded) {
        <div style="background-color: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
          <p>Dur√©e : <strong>{{ numberOfNights }} nuits</strong></p>
          <p style="font-size: 1.2rem;">Total : <strong>{{ totalPrice }} ‚Ç¨</strong></p>
        </div>
      } @else if (bookingForm.dirty && numberOfNights <= 0) {
        <p style="color: red;">La date de fin doit √™tre apr√®s la date de d√©but.</p>
      }

      <button type="submit" [disabled]="bookingForm.invalid || numberOfNights <= 0" 
              style="width: 100%; padding: 12px; background-color: #6c5ce7; color: white; border: none; cursor: pointer; border-radius: 4px; font-size: 1rem;">
        Payer et R√©server
      </button>

    </form>
  </div>
</div>
